[深入理解JavaScript系列-TOM大叔](https://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html) 读书笔记


19. 求值策略
[原文](http://dmitrysoshnikov.com/ecmascript/chapter-8-evaluation-strategy/)
- 按值传递: 参数的值是调用者传递的对象值的拷贝(copy of value），函数内部改变参数的值不会影响到外面的对象（该参数在外面的值），一般来说，是重新分配了新内存
    - 如果该函数的参数不是原始值而是复杂的结构对象是时候，将带来很大的性能问题，C++就有这个问题，将结构作为值传进函数的时候——就是完整的拷贝
- 按引用传递: 对象的隐式引用，如该对象在外部的直接引用地址。函数内部对参数的任何改变都是影响该对象在函数外部的值，因为两者引用的是同一个对象，也就是说：这时候参数就相当于外部对象的一个别名
    - 该策略可以更有效地传递复杂对象，例如带有大批量属性的大结构对象
- 按共享传递 
    - 函数接收的是对象对于的拷贝（副本），该引用拷贝和形参以及其值相关联。
    - 这里出现的引用，我们不能称之为“按引用传递”，因为函数接收的参数不是直接的对象别名，而是该引用地址的拷贝。
    - 按共享传递是按值传递的特例
        - 特殊值——引用拷贝（副本
        - 它不是按照大结构的拷贝来传递（例如，不是按值传递),而另一方面，我们没有处理原始对象的引用，并且不能修改它
        - 这是【按地址值传递】。 在这种情况下，按共享传递只是“语法糖”，像c++指针赋值行为一样（但不能取消引用），或者像引用一样修改属性（不需要取消引用操作），有时候，它可以被命名为“安全指针”(安全指针不可能去解除引用和改变对象的，但可以去修改该对象的属性值)

ECMAScript的求值策略: ECMAScript中将对象作为参数传递的策略了——按共享传递：修改参数的属性将会影响到外部，而重新赋值将不会影响到外部对象(按值传递，只不过该值是引用地址的拷贝)

- 小结
    - “按共享传递”，通过这个正好可以看到传统的按值传递和按引用传递的区别，这种情况，可以分成2个种情况：1：原始值按值传递；2：对象按共享传递。
